#include"PreProcess.h"

void fixConsoleWindow() {
	HWND consoleWindow = GetConsoleWindow();
	LONG style = GetWindowLong(consoleWindow, GWL_STYLE);
	style = style & ~(WS_MAXIMIZEBOX) & ~(WS_THICKFRAME);
	SetWindowLong(consoleWindow, GWL_STYLE, style);
}

void gotoXY(int x, int y) {
	COORD coord;
	coord.X = x;
	coord.Y = y;
	SetConsoleCursorPosition(GetStdHandle(STD_OUTPUT_HANDLE), coord);
}
void drawBoard(int startPosX, int startPosY, int w, int h, int endPosX, int endPosY) {
	for (int i = startPosY; i < h + startPosY; i++)
		for (int j = startPosX; j < w + startPosX; j++) {
			if (j == startPosX || j == startPosX + w - 1) {
				gotoXY(j, i);
				cout << char(219);
			}
			if (i == startPosY) {
				gotoXY(j, i);
				cout << char(220);
			}
			if (i == startPosY + h - 1) {
				gotoXY(j, i);
				cout << char(223);
			}
			if (i % 4 == 0 && i != startPosY && i != startPosY + h - 1 && j != startPosX && j != startPosX + w - 1) {
				gotoXY(j, i);
				cout << char(205);
			}
		}
	gotoXY(endPosX, endPosY);
}
void setColor(WORD color)
{
	SetConsoleTextAttribute(GetStdHandle(STD_OUTPUT_HANDLE), color);
}

void drawBox(int startPosX, int startPosY, int w, int h, int endPosX, int endPosY) {
	for (int i = startPosY; i < h + startPosY; i++)
		for (int j = startPosX; j < w + startPosX; j++) {
			if (j == startPosX || j == startPosX + w - 1) {
				gotoXY(j, i);
				cout << char(219);
			}
			if (i == startPosY) {
				gotoXY(j, i);
				cout << char(220);
			}
			if (i == startPosY + h - 1) {
				gotoXY(j, i);
				cout << char(223);
			}
		}
	gotoXY(endPosX, endPosY);
}
void animation(int startPosX, int startPosY, int w, int h, int endPosX, int endPosY) {
	vector<vector<bool>>table;
	table.resize(h - 2);
	for (int i = 0; i < h - 2; i++) {
		table[i].resize(w - 2);
	}
	int count = 0;
	for (int i = 0; i < h - 2; i++) {
		for (int j = 0; j < w - 2; j++) {
			if ((i == 3 && (j == 15 || j == 16 || j == 17 || j == 18 || j == 19 || j == 20 || j == 21 || j == 22 || j == 23 || j == 24 || j == 34 || j == 35 || j == 45 || j == 46 || j == 53 || j == 54 || j == 60 || j == 61 || j == 62 || j == 63 || j == 64 || j == 65 || j == 66 || j == 67 || j == 68 || j == 69)) ||
				(i == 4 && (j == 15 || j == 16 || j == 32 || j == 33 || j == 36 || j == 37 || j == 45 || j == 46 || j == 47 || j == 48 || j == 51 || j == 52 || j == 53 || j == 54 || j == 60 || j == 61)) ||
				(i == 5 && (j == 15 || j == 16 || j == 32 || j == 33 || j == 36 || j == 37 || j == 45 || j == 46 || j == 47 || j == 48 || j == 49 || j == 50 || j == 51 || j == 52 || j == 53 || j == 54 || j == 60 || j == 61)) ||
				(i == 6 && (j == 15 || j == 16 || j == 19 || j == 20 || j == 21 || j == 22 || j == 23 || j == 24 || j == 30 || j == 31 || j == 32 || j == 33 || j == 34 || j == 35 || j == 36 || j == 37 || j == 38 || j == 39 || j == 45 || j == 46 || j == 49 || j == 50 || j == 53 || j == 54 || j == 60 || j == 61 || j == 62 || j == 63 || j == 64 || j == 65)) ||
				(i == 7 && (j == 15 || j == 16 || j == 23 || j == 24 || j == 30 || j == 31 || j == 38 || j == 39 || j == 45 || j == 46 || j == 53 || j == 54 || j == 60 || j == 61)) ||
				(i == 8 && (j == 15 || j == 16 || j == 23 || j == 24 || j == 30 || j == 31 || j == 38 || j == 39 || j == 45 || j == 46 || j == 53 || j == 54 || j == 60 || j == 61)) ||
				(i == 9 && (j == 15 || j == 16 || j == 17 || j == 18 || j == 19 || j == 20 || j == 21 || j == 22 || j == 23 || j == 24 || j == 30 || j == 31 || j == 38 || j == 39 || j == 45 || j == 46 || j == 53 || j == 54 || j == 60 || j == 61 || j == 62 || j == 63 || j == 64 || j == 65 || j == 66 || j == 67 || j == 68 || j == 69)) ||
				(i == 13 && (j == 19 || j == 20 || j == 30 || j == 31 || j == 38 || j == 39 || j == 45 || j == 46 || j == 47 || j == 48 || j == 49 || j == 50 || j == 51 || j == 52 || j == 53 || j == 54 || j == 60 || j == 61 || j == 62 || j == 63 || j == 64 || j == 65 || j == 66 || j == 67)) ||
				(i == 14 && (j == 17 || j == 18 || j == 21 || j == 22 || j == 30 || j == 31 || j == 38 || j == 39 || j == 45 || j == 46 || j == 60 || j == 61 || j == 68 || j == 69)) ||
				(i == 15) && (j == 15 || j == 16 || j == 23 || j == 24 || j == 30 || j == 31 || j == 38 || j == 39 || j == 45 || j == 46 || j == 60 || j == 61 || j == 68 || j == 69) ||
				(i == 16) && (j == 15 || j == 16 || j == 23 || j == 24 || j == 30 || j == 31 || j == 32 || j == 33 || j == 36 || j == 37 || j == 38 || j == 39 || j == 45 || j == 46 || j == 47 || j == 48 || j == 49 || j == 50 || j == 60 || j == 61 || j == 62 || j == 63 || j == 64 || j == 65 || j == 66 || j == 67) ||
				(i == 17) && (j == 15 || j == 16 || j == 23 || j == 24 || j == 32 || j == 33 || j == 36 || j == 37 || j == 45 || j == 46 || j == 60 || j == 61 || j == 64 || j == 65) ||
				(i == 18) && (j == 17 || j == 18 || j == 21 || j == 22 || j == 32 || j == 33 || j == 34 || j == 35 || j == 36 || j == 37 || j == 45 || j == 46 || j == 60 || j == 61 || j == 66 || j == 67) ||
				(i == 19) && (j == 19 || j == 20 || j == 34 || j == 35 || j == 45 || j == 46 || j == 47 || j == 48 || j == 49 || j == 50 || j == 51 || j == 52 || j == 53 || j == 54 || j == 60 || j == 61 || j == 68 || j == 69)
				) table[i][j] = true;
			else {
				table[i][j] = false;
				count++;
			}
		}
	}
	srand(time(NULL));
	int x = 1, y = 1;
	int count2 = 0;
	setColor(15);
	while (count) {
		gotoXY(x, y);
		cout << char(219);
		count--;
		table[y - startPosY - 1][x - startPosX - 1] = true;
		while (table[y - startPosY - 1][x - startPosX - 1] && count) {
			x = startPosX + 1 + rand() % (w - 2);
			y = startPosY + 1 + rand() % (h - 2);
		}
		Sleep(1);
	}
	for (int i = 0; i < h - 2; i++) {
		for (int j = 0; j < w - 2; j++) {
			if ((i == 3 && (j == 15 || j == 16 || j == 17 || j == 18 || j == 19 || j == 20 || j == 21 || j == 22 || j == 23 || j == 24 || j == 34 || j == 35 || j == 45 || j == 46 || j == 53 || j == 54 || j == 60 || j == 61 || j == 62 || j == 63 || j == 64 || j == 65 || j == 66 || j == 67 || j == 68 || j == 69)) ||
				(i == 4 && (j == 15 || j == 16 || j == 32 || j == 33 || j == 36 || j == 37 || j == 45 || j == 46 || j == 47 || j == 48 || j == 51 || j == 52 || j == 53 || j == 54 || j == 60 || j == 61)) ||
				(i == 5 && (j == 15 || j == 16 || j == 32 || j == 33 || j == 36 || j == 37 || j == 45 || j == 46 || j == 47 || j == 48 || j == 49 || j == 50 || j == 51 || j == 52 || j == 53 || j == 54 || j == 60 || j == 61)) ||
				(i == 6 && (j == 15 || j == 16 || j == 19 || j == 20 || j == 21 || j == 22 || j == 23 || j == 24 || j == 30 || j == 31 || j == 32 || j == 33 || j == 34 || j == 35 || j == 36 || j == 37 || j == 38 || j == 39 || j == 45 || j == 46 || j == 49 || j == 50 || j == 53 || j == 54 || j == 60 || j == 61 || j == 62 || j == 63 || j == 64 || j == 65)) ||
				(i == 7 && (j == 15 || j == 16 || j == 23 || j == 24 || j == 30 || j == 31 || j == 38 || j == 39 || j == 45 || j == 46 || j == 53 || j == 54 || j == 60 || j == 61)) ||
				(i == 8 && (j == 15 || j == 16 || j == 23 || j == 24 || j == 30 || j == 31 || j == 38 || j == 39 || j == 45 || j == 46 || j == 53 || j == 54 || j == 60 || j == 61)) ||
				(i == 9 && (j == 15 || j == 16 || j == 17 || j == 18 || j == 19 || j == 20 || j == 21 || j == 22 || j == 23 || j == 24 || j == 30 || j == 31 || j == 38 || j == 39 || j == 45 || j == 46 || j == 53 || j == 54 || j == 60 || j == 61 || j == 62 || j == 63 || j == 64 || j == 65 || j == 66 || j == 67 || j == 68 || j == 69)) ||
				(i == 13 && (j == 19 || j == 20 || j == 30 || j == 31 || j == 38 || j == 39 || j == 45 || j == 46 || j == 47 || j == 48 || j == 49 || j == 50 || j == 51 || j == 52 || j == 53 || j == 54 || j == 60 || j == 61 || j == 62 || j == 63 || j == 64 || j == 65 || j == 66 || j == 67)) ||
				(i == 14 && (j == 17 || j == 18 || j == 21 || j == 22 || j == 30 || j == 31 || j == 38 || j == 39 || j == 45 || j == 46 || j == 60 || j == 61 || j == 68 || j == 69)) ||
				(i == 15) && (j == 15 || j == 16 || j == 23 || j == 24 || j == 30 || j == 31 || j == 38 || j == 39 || j == 45 || j == 46 || j == 60 || j == 61 || j == 68 || j == 69) ||
				(i == 16) && (j == 15 || j == 16 || j == 23 || j == 24 || j == 30 || j == 31 || j == 32 || j == 33 || j == 36 || j == 37 || j == 38 || j == 39 || j == 45 || j == 46 || j == 47 || j == 48 || j == 49 || j == 50 || j == 60 || j == 61 || j == 62 || j == 63 || j == 64 || j == 65 || j == 66 || j == 67) ||
				(i == 17) && (j == 15 || j == 16 || j == 23 || j == 24 || j == 32 || j == 33 || j == 36 || j == 37 || j == 45 || j == 46 || j == 60 || j == 61 || j == 64 || j == 65) ||
				(i == 18) && (j == 17 || j == 18 || j == 21 || j == 22 || j == 32 || j == 33 || j == 34 || j == 35 || j == 36 || j == 37 || j == 45 || j == 46 || j == 60 || j == 61 || j == 66 || j == 67) ||
				(i == 19) && (j == 19 || j == 20 || j == 34 || j == 35 || j == 45 || j == 46 || j == 47 || j == 48 || j == 49 || j == 50 || j == 51 || j == 52 || j == 53 || j == 54 || j == 60 || j == 61 || j == 68 || j == 69)
				) {
				setColor(0);
				gotoXY(j + 1, i + 1);
				cout << char(219);

			}
		}
	}
	for (int i = 0; i < h - 2; i++) {
		for (int j = 0; j < w - 2; j++) {

			if ((i == 3 && (j == 15 || j == 16 || j == 17 || j == 18 || j == 19 || j == 20 || j == 21 || j == 22 || j == 23 || j == 24 || j == 34 || j == 35 || j == 45 || j == 46 || j == 53 || j == 54 || j == 60 || j == 61 || j == 62 || j == 63 || j == 64 || j == 65 || j == 66 || j == 67 || j == 68 || j == 69)) ||
				(i == 4 && (j == 15 || j == 16 || j == 32 || j == 33 || j == 36 || j == 37 || j == 45 || j == 46 || j == 47 || j == 48 || j == 51 || j == 52 || j == 53 || j == 54 || j == 60 || j == 61)) ||
				(i == 5 && (j == 15 || j == 16 || j == 32 || j == 33 || j == 36 || j == 37 || j == 45 || j == 46 || j == 47 || j == 48 || j == 49 || j == 50 || j == 51 || j == 52 || j == 53 || j == 54 || j == 60 || j == 61)) ||
				(i == 6 && (j == 15 || j == 16 || j == 19 || j == 20 || j == 21 || j == 22 || j == 23 || j == 24 || j == 30 || j == 31 || j == 32 || j == 33 || j == 34 || j == 35 || j == 36 || j == 37 || j == 38 || j == 39 || j == 45 || j == 46 || j == 49 || j == 50 || j == 53 || j == 54 || j == 60 || j == 61 || j == 62 || j == 63 || j == 64 || j == 65)) ||
				(i == 7 && (j == 15 || j == 16 || j == 23 || j == 24 || j == 30 || j == 31 || j == 38 || j == 39 || j == 45 || j == 46 || j == 53 || j == 54 || j == 60 || j == 61)) ||
				(i == 8 && (j == 15 || j == 16 || j == 23 || j == 24 || j == 30 || j == 31 || j == 38 || j == 39 || j == 45 || j == 46 || j == 53 || j == 54 || j == 60 || j == 61)) ||
				(i == 9 && (j == 15 || j == 16 || j == 17 || j == 18 || j == 19 || j == 20 || j == 21 || j == 22 || j == 23 || j == 24 || j == 30 || j == 31 || j == 38 || j == 39 || j == 45 || j == 46 || j == 53 || j == 54 || j == 60 || j == 61 || j == 62 || j == 63 || j == 64 || j == 65 || j == 66 || j == 67 || j == 68 || j == 69)) ||
				(i == 13 && (j == 19 || j == 20 || j == 30 || j == 31 || j == 38 || j == 39 || j == 45 || j == 46 || j == 47 || j == 48 || j == 49 || j == 50 || j == 51 || j == 52 || j == 53 || j == 54 || j == 60 || j == 61 || j == 62 || j == 63 || j == 64 || j == 65 || j == 66 || j == 67)) ||
				(i == 14 && (j == 17 || j == 18 || j == 21 || j == 22 || j == 30 || j == 31 || j == 38 || j == 39 || j == 45 || j == 46 || j == 60 || j == 61 || j == 68 || j == 69)) ||
				(i == 15) && (j == 15 || j == 16 || j == 23 || j == 24 || j == 30 || j == 31 || j == 38 || j == 39 || j == 45 || j == 46 || j == 60 || j == 61 || j == 68 || j == 69) ||
				(i == 16) && (j == 15 || j == 16 || j == 23 || j == 24 || j == 30 || j == 31 || j == 32 || j == 33 || j == 36 || j == 37 || j == 38 || j == 39 || j == 45 || j == 46 || j == 47 || j == 48 || j == 49 || j == 50 || j == 60 || j == 61 || j == 62 || j == 63 || j == 64 || j == 65 || j == 66 || j == 67) ||
				(i == 17) && (j == 15 || j == 16 || j == 23 || j == 24 || j == 32 || j == 33 || j == 36 || j == 37 || j == 45 || j == 46 || j == 60 || j == 61 || j == 64 || j == 65) ||
				(i == 18) && (j == 17 || j == 18 || j == 21 || j == 22 || j == 32 || j == 33 || j == 34 || j == 35 || j == 36 || j == 37 || j == 45 || j == 46 || j == 60 || j == 61 || j == 66 || j == 67) ||
				(i == 19) && (j == 19 || j == 20 || j == 34 || j == 35 || j == 45 || j == 46 || j == 47 || j == 48 || j == 49 || j == 50 || j == 51 || j == 52 || j == 53 || j == 54 || j == 60 || j == 61 || j == 68 || j == 69)
				) {
				setColor(14);
				gotoXY(j + 2, i + 2);
				cout << char(219);

			}
		}
	}
	setColor(15);
}
void loading(int startPosX, int startPosY, int w, int h, int endPosX, int endPosY) {
	
	gotoXY(w / 2 - 5, h / 2 - 1);
	cout << "Loading...";
	for (int i = 0; i < 30; i++) {
		gotoXY(w / 2 - 15 + i,  h/ 2 );
		cout << char(219);
		Sleep(60);
	}
	setColor(15);
}